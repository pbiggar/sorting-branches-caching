\documentclass[a4paper,twoside]{article}
\usepackage[procnames,noindent]{lgrind}
\usepackage{fancyhdr,a4wide}
\usepackage{german}
\usepackage{makeidx}
\pagestyle{fancy}

\makeindex

\begin{document}
\renewcommand{\footrulewidth}{0.4pt}
\fancyhead[C]{\lgrindhead}
\fancyhead[LO,RE]{\lgrindfilesize~Bytes\\\lgrindmodtime}
\fancyhead[RO,LE]{\bfseries \lgrindfilename\\\lgrindmodday.\lgrindmodmonth.\lgrindmodyear}
\fancyfoot[C]{\bfseries\thepage}
\setlength{\headheight}{24pt}
\begin{lgrind}
\BGfont
\File{cache\_radixsort.c}{2004}{7}{14}{20:54}{1479}
\L{\LB{\K{\#include}_\<\V{stdlib}.\V{h}\>}}
\L{\LB{\K{\#include}_\<\V{string}.\V{h}\>}}
\L{\LB{}}
\L{\LB{\K{\#include}_\S{}\3base\_sorts.h\3\SE{}}}
\L{\LB{}}
\L{\LB{\K{\#define}_\V{THRESHHOLD}_\N{10}}}
\L{\LB{}}
\L{\LB{\K{\#define}_\V{BITSWORD}_\N{32}}}
\L{\LB{\K{\#define}_\V{BITSBYTE}_\N{8}}}
\L{\LB{\K{\#define}_\V{BYTESWORD}_\N{4}}}
\L{\LB{\K{\#define}_\V{R}_\N{256}}}
\L{\LB{}}
\L{\LB{\K{\#define}_\V{digit}(\V{A},_\V{B})_(((\V{A})_\>\>_(\V{BITSWORD}\-((\V{B})+\N{1})*\V{BITSBYTE}))_\&_(\V{R}\-\N{1}))}}
\L{\LB{}}
\L{\LB{\K{void}}}
\index{cache\_radixsort}\Proc{cache\_radixsort}\L{\LB{\V{cache\_radixsort}(\K{unsigned}_\K{int}_\V{a}[\,],_\K{int}_\V{N})}}
\L{\LB{\{}}
\L{\LB{}\Tab{8}{\K{unsigned}_\K{int}*_\V{aux}_=_\V{malloc}(\V{N}_*_\K{sizeof}(\K{unsigned}_\K{int}));}}
\L{\LB{}\Tab{8}{\K{int}_\V{i},_\V{j},_\V{w};_\C{}/*_R_is_the_size_of_a_digit,_hence_the_number_of_bins_*/\CE{}}}
\L{\LB{}\Tab{8}{\K{int}_\V{count0}[\V{R}+\N{1}];}}
\L{\LB{}\Tab{8}{\K{int}_\V{count1}[\V{R}+\N{1}];}}
\L{\LB{}\Tab{8}{\K{int}*_\V{temp};}}
\L{\LB{}}
\L{\LB{}\Tab{8}{\K{int}*_\V{count}_=_\V{count0};}}
\L{\LB{}\Tab{8}{\K{int}*_\V{next\_count}_=_\V{count1};}}
\L{\LB{}}
\L{\LB{}\Tab{8}{\K{unsigned}_\K{int}*_\V{s}_=_\V{a};}}
\L{\LB{}\Tab{8}{\K{unsigned}_\K{int}*_\V{t}_=_\V{aux};}}
\L{\LB{}}
\L{\LB{}\Tab{8}{\C{}/*_count_the_digits_for_the_first_time_*/\CE{}}}
\L{\LB{}\Tab{8}{\K{for}(\V{j}_=_\N{0};_\V{j}_\<_\V{R};_\V{j}++)_\V{count}[\V{j}]_=_\N{0};}}
\L{\LB{}\Tab{8}{\K{for}(\V{i}_=_\N{0};_\V{i}_\<_\V{N};_\V{i}++)_\V{count}[\V{digit}(\V{s}[\V{i}],_\N{3})_+_\N{1}]++;}}
\L{\LB{}\Tab{8}{\K{for}(\V{j}_=_\N{1};_\V{j}_\<_\V{R};_\V{j}++)_\V{count}[\V{j}]_+=_\V{count}[\V{j}\-\N{1}];}}
\L{\LB{}}
\L{\LB{}\Tab{8}{\K{for}(\V{w}_=_\V{BYTESWORD}_\-_\N{1};_\V{w}_\>_\N{0};_\V{w}\-\-)_\C{}/*_this_is_from_lsb._3_==_lsByte,_0_==_msByte_*/\CE{}}}
\L{\LB{}\Tab{8}{\{}}
\L{\LB{}\Tab{16}{\K{for}(\V{j}_=_\N{0};_\V{j}_\<_\V{R};_\V{j}++)_\V{next\_count}[\V{j}]_=_\N{0};_\C{}/*_set_the_next_counts_to_0_*/\CE{}}}
\L{\LB{}}
\L{\LB{}\Tab{16}{\K{for}(\V{i}_=_\N{0};_\V{i}_\<=_\V{N}\-\N{1};_\V{i}++)_\C{}/*_when_we_look_up_the_array,_we_now_have_its_position_*/\CE{}}}
\L{\LB{}\Tab{16}{\{}}
\L{\LB{}\Tab{24}{\V{t}[\V{count}[\V{digit}(\V{s}[\V{i}],_\V{w})]++]_=_\V{s}[\V{i}];}}
\L{\LB{}\Tab{24}{\V{next\_count}[\V{digit}(\V{s}[\V{i}],_\V{w}\-\N{1})_+_\N{1}]++;}}
\L{\LB{}\Tab{16}{\}}}
\L{\LB{}\Tab{8}{}}
\L{\LB{}\Tab{16}{\K{for}(\V{j}_=_\N{1};_\V{j}_\<_\V{R};_\V{j}++)_\V{next\_count}[\V{j}]_+=_\V{next\_count}[\V{j}\-\N{1}];_\C{}/*_make_the_next_counts_cumulative_*/\CE{}}}
\L{\LB{}}
\L{\LB{}\Tab{16}{\C{}/*_swap_the_counts_*/\CE{}}}
\L{\LB{}\Tab{16}{\V{temp}_=_\V{next\_count};}}
\L{\LB{}\Tab{16}{\V{next\_count}_=_\V{count};}}
\L{\LB{}\Tab{16}{\V{count}_=_\V{temp};;}}
\L{\LB{}}
\L{\LB{}\Tab{16}{\C{}/*_swap_the_arrays_*/\CE{}}}
\L{\LB{}\Tab{16}{\V{temp}_=_\V{t};}}
\L{\LB{}\Tab{16}{\V{t}_=_\V{s};}}
\L{\LB{}\Tab{16}{\V{s}_=_\V{temp};}}
\L{\LB{}\Tab{8}{\}}}
\L{\LB{}}
\L{\LB{}\Tab{8}{\C{}/*_finish_it_off_*/\CE{}}}
\L{\LB{}\Tab{8}{\K{for}(\V{i}_=_\N{0};_\V{i}_\<=_\V{N}\-\N{1};_\V{i}++)_\C{}/*_when_we_look_up_the_array,_we_now_have_its_position_*/\CE{}}}
\L{\LB{}\Tab{8}{\{}}
\L{\LB{}\Tab{16}{\V{t}[\V{count}[\V{digit}(\V{s}[\V{i}],_\V{w})]++]_=_\V{s}[\V{i}];}}
\L{\LB{}\Tab{8}{\}}}
\L{\LB{}}
\L{\LB{}\Tab{8}{\V{free}(\V{aux});}}
\L{\LB{\}}}
\end{lgrind}
\printindex
\end{document}